<template id="badge">
    <style>
        div {
            border-radius: 4px;
            border: 20px solid red;
            border-left: none;
            border-right: none;
            margin: 0 1rem;
            width: 300px;
            text-align: center;
        }
    </style>    
    <div class="name">
        <say-hi-element
            greet-word="HI!, I'm"
            name="">
            <content></content>
        </say-hi-element>            
    </div>    
</template>

<name-badge-element>Vincent</name-badge-element>

<script>
    //define custom functionalities
    SayHiPrototype = Object.create(HTMLElement.prototype)
    
    SayHiPrototype.greet = function () {
        //custom attributes work out of the box
        alert(this.getAttribute('greet-word') + ' ' + this.getAttribute('name'))
    }

    SayHiPrototype.createdCallback = function () {
        this.addEventListener('click', this.greet.bind(this))
    }

    //register the element
    window.SayHi = document.registerElement('say-hi-element', {prototype: SayHiPrototype})    

    NameBadgePrototype = Object.create(HTMLElement.prototype)
    
    //Lifecycle events
    NameBadgePrototype.createdCallback = function () {
        var shadow = this.createShadowRoot()

        var template = document.querySelector('#badge')
        var templateClone = document.importNode(template.content, true)

        shadow.appendChild(templateClone)

        var sayHi = shadow.querySelector('say-hi-element')
        var content = this.innerHTML        
        sayHi.setAttribute('name', content)
    }

    window.NameBadge = document.registerElement('name-badge-element', {prototype: NameBadgePrototype})

</script>
